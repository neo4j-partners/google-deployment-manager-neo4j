description:
  author:
    title: Neo4j
    descriptionHtml: <p>Neo4j is used today by thousands of companies and organizations in almost all industries, including financial services, government, energy, technology, retail, and manufacturing (click here to see customers). Over 1,000 developers and architects across the industries are Neo4j Certified Professionals, and you can be too!</p><p>Neo4j is referred to as a native graph database because it implements the property graph model to the storage level and uses native graph processing (index-free adjacency). Neo4j does not just rely on graph processing and in-memory libraries, but also provides enterprise-required database capabilities including ACID transaction compliance, cluster support, and runtime failover, making it suitable to use graph data in production scenarios.</p>
    shortDescription: Neo4j is an open-source, NoSQL, native graph database that provides an ACID-compliant transactional backend for your applications. The Enterprise Edition includes all that Community Edition has to offer, plus extra enterprise requirements such as backups, clustering, and failover abilities.
  descriptionHtml: <p>Neo4j is an open-source, NoSQL, native graph database that provides an ACID-compliant transactional backend for your applications. The Enterprise Edition includes all that Community Edition has to offer, plus extra enterprise requirements such as backups, clustering, and failover abilities.</p><p>Neo4j is referred to as a native graph database because it efficiently implements the property graph model down to the storage level. This means that the data is stored exactly as you whiteboard it, and the database uses pointers to navigate and traverse the graph. In contrast to graph processing or in-memory libraries, Neo4j also provides full database characteristics, including ACID transaction compliance, cluster support, and runtime failover â€“ making it suitable to use graphs for data in production scenarios.</p>  
  logo: '@media/solution-name_store.png'
  tagline: 'Neo4j Enterprise: Causal Clustering'
  title: Neo4j Enterprise
  url: "https://neo4j.com/lp/enterprise-cloud/?utm_content=google-marketplace"
4.2/gcloud/solutions/causal-cluster/neo4j-causal-cluster.jinja.display

  version: 4.3.6
  documentations:
  - title: Register Neo4j Instance/Get a License
    url: "https://neo4j.com/lp/enterprise-cloud/?utm_content=google-marketplace"
    description: License Registration
    destinations:
    - DESTINATION_SOLUTION_DETAILS
    - DESTINATION_POST_DEPLOY
  - title: Neo4j Documentation
    url: https://neo4j.com/docs/
    description: All Neo4j Documentation
    destinations:
    - DESTINATION_SOLUTION_DETAILS
    - DESTINATION_POST_DEPLOY
  support:
  - title: Support
    descriptionHtml: |-
      Need a helping hand?
      Reach out to our online community.
    url: https://support.neo4j.com/hc/en-us
  - title: Neo4j Online community
    descriptionHtml: |-
      Participate in Neo4j community discussions
    url: https://community.neo4j.com/
  icon: '@media/solution-name_small.png'
  softwareGroups:
    - type: SOFTWARE_GROUP_OS
      software:
        - title: Ubuntu
4.1/gcloud/solutions/causal-cluster/neo4j-causal-cluster.jinja.display
          version: 18.0.4

input:
  properties:
    - name: zone
      title: Zone
    - name: clusterNodes
      title: Number of Nodes in Cluster
      section: CLUSTER_CONFIGURATION
      enumLabels: 
        '3': '3'
        '4': '4'
        '5': '5'
        '6': '6'
        '7': '7'
    - name: readReplicas
      title: Number of Read Replicas
      section: CLUSTER_CONFIGURATION
      enumLabels:
        '0': '0'
        '1': '1'
        '2': '2'
        '3': '3'
        '4': '4'
        '5': '5'
    - name: machineType
      title: Machine type
    - name: bootDiskType
      title: Boot disk type
      section: BOOT_DISK
    - name: bootDiskSizeGb
      title: Boot disk size in GB
      section: BOOT_DISK
    - name: network
      title: Network name
      section: NETWORKING
    - name: subnetwork
      title: Subnetwork name
      section: NETWORKING
    - name: externalIP
      title: External IP
      tooltip: 'An external IP address associated with this instance. Selecting "None" will result in the instance having no external internet access. <a href="https://cloud.google.com/compute/docs/configure-instance-ip-addresses">Learn more</a>'
      section: NETWORKING
      level: 1
    - name: enableTcp7473
      title: Allow HTTPS traffic from the Internet
      section: NETWORKING
    - name: tcp7473SourceRanges
      title: Source IP ranges for HTTPS traffic
      tooltip: 'Traffic is only allowed from sources within these IP address ranges. Use CIDR notation when entering ranges. <a href="https://cloud.google.com/compute/docs/networking#firewalls">Learn more</a>'
      placeholder: '0.0.0.0/0, 192.169.0.2/24'
      section: NETWORKING
    - name: enableTcp7687
      title: Allow BOLT traffic from the Internet
      section: NETWORKING
    - name: tcp7687SourceRanges
      title: Source IP ranges for BOLT traffic
      tooltip: 'Traffic is only allowed from sources within these IP address ranges. Use CIDR notation when entering ranges. <a href="https://cloud.google.com/compute/docs/networking#firewalls">Learn more</a>'
      placeholder: '0.0.0.0/0, 192.169.0.2/24'
      section: NETWORKING
  sections:
    - name: CLUSTER_CONFIGURATION
      title: Cluster Configuration
      tooltip: Choose properties of your Neo4j Enterprise Causal Cluster
    - name: BOOT_DISK
      title: Boot Disk
      tooltip: Each instance requires a disk to boot from.
    - name: NETWORKING
      title: Networking

runtime:
  deployingMessage: Deployment can take several minutes to complete.
  applicationTable:
    rows:
      - label: Neo4j Enterprise Cluster Entry Point
        value: '<a href="{{ consoleUrl(outputs().vm1SelfLink) }}">{{ outputs().vm1Name }}</a>'
      - label: Instance zone
        value: '{{ properties().zone }}'
      - label: Instance machine type
        value: '{{ properties().machineType }}'
      - label: URL
        value: '{{ outputs().vm1URL }}'
      - label: Initial Neo4j Username
        value: '{{ outputs().username }}'
      - label: Initial Neo4j Password
        value: '{{ outputs().password }}'
  primaryButton:
    label: SSH access to cluster
    type: TYPE_GCE_VM_SSH
    action: '{{ outputs().vm1SelfLink }}'
  suggestedActions:
    - heading: Register Your Cloud Instance of Neo4j or get a New License
      description: '<a href="https://neo4j.com/lp/enterprise-cloud/?utm_content=google-marketplace">Register here</a>'
    - heading: Important Note
      description: |
          Neo4j starts with a basic SSL certificate.  Configure your
          browser to trust this IP on port 7473 and 7687.
          More information: https://community.neo4j.com/t/troubleshooting-connection-issues-to-neo4j/129
    - heading: Connect to the Neo4j Browser
      description: |
        <a href="{{ outputs().vm1URL }}">{{ outputs().vm1Name }}</a>
        <a href="{{ outputs().vm2URL }}">{{ outputs().vm2Name }}</a>
        <a href="{{ outputs().vm3URL }}">{{ outputs().vm3Name }}</a>
    - heading: Read Neo4j Documentation
      description: '<a href="https://neo4j.com/docs/">https://neo4j.com/docs/</a>'
    - heading: Read about Neo4j Causal Clusters
      description: '<a href="https://neo4j.com/docs/operations-manual/current/clustering/causal-clustering/">https://neo4j.com/docs/operations-manual/current/clustering/causal-clustering/</a>'
    - heading: Assign a static external IP address to your VM instance
      description: 'An ephemeral external IP address has been assigned to the VM instance. If you require a static external IP address, you may promote the address to static. <a href="https://cloud.google.com/compute/docs/instances-and-network#promote_ephemeral_ip">Learn more</a>'
      showIf: '{{ properties().externalIP == "Ephemeral" }}'

annotations:
  autogenSpecType: 'MULTI_VM'
  vmImage0: https://www.googleapis.com/compute/v1/projects/launcher-public/global/images/neo4j-enterprise-1-4.3.6-apoc-bloom
metadata_version: v1
